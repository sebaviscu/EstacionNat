@model MVCBlog.Website.Models.OutputModels.Blog.IndexModel

@{
    Layout = "~/Views/Shared/Sidebar.Layout.cshtml";
}

@section HeaderContent {
    <link rel="canonical" href="@this.Request.Url.GetLeftPart(UriPartial.Authority)@Url.Content("~/")" />
}

@section HeroUnit {
    @if (!this.Request.IsAuthenticated && !this.Model.Entries.Any())
    {
        <div class="jumbotron">
            <h1>Estacion natural</h1>
            <p>@Common.HeroText</p>
            <p>@Html.ActionLink(@Common.Login, MVC.Administration.Index(), new { @class = "btn btn-primary btn-large" })</p>
        </div>
    }
}

@if (!string.IsNullOrEmpty(this.Model.Tag) || !string.IsNullOrEmpty(this.Model.Search))
{
    <div class="well">
        @if (!string.IsNullOrEmpty(this.Model.Tag))
        {
            <i class="glyphicon glyphicon-tag"></i>
            @Common.Tag<text>: @this.Model.Tag</text>
        }
        else if (!string.IsNullOrEmpty(this.Model.Search))
        {
            <i class="glyphicon glyphicon-search"></i>
            @Common.Search<text>: @this.Model.Search</text>
        }
    </div>
}

@if (!this.Model.Entries.Any())
{
    @Common.NoData
}
else
{

    @*foreach (var entry in this.Model.Entries)
        {
            <h2>@Html.ActionLink(entry.Header, entry.Url)</h2>
            @:<article>
                Html.RenderPartial(MVC.Blog.Views._BlogEntryHeaderControl, entry);
                @Html.Raw(entry.ShortContent);
                <p>@Html.ActionLink(Common.Continue, entry.Url)</p>
            @:</article>
        }*@




    <table class="table">

        @{
            int i = 0;
            var tr = new HtmlString("<tr>");
            var trEnd = new HtmlString("</tr>");

            foreach (var p in this.Model.Productos)
            {
                i++;
                var image = string.IsNullOrEmpty(p.Photo) ? "Content/Images/sin-imagen.png" : Url.Content(p.RelativePath + p.Photo);
                var presentacion = p.Unidad == MVCBlog.Core.Entities.Presentacion.Peso ? "Kg" : "Unidad";
                if (i == 4)
                {
                    new HtmlString("<tr>");
                }

                <div class="col-md-3">
                    <div class=" product-col" style=" text-align: center;position: relative; height:290px">
                        <div class="image">
                            <img style="width: 150px; height:150px" src="@image" alt="@p.Description">
                        </div>
                        <div class="caption">
                            <div  style="text-align: left;">
                                <span class="price" style="text-align: left;">$ @p.PrecioActual</span><strong style="font-size:14px">/@presentacion</strong>
                            </div>
                            <h4 style="text-align: left;"><small>@p.Description</small></h4>
                            <div id="boton_carrito48" @*onclick="AgregarProducto('48');"*@><button type="button" class="btn btn-main btn-xs text-uppercase "><i class="glyphicon glyphicon-shopping-cart"></i> Agregar </button></div>
                        </div>
                    </div>
                </div>

                if (i == 6)
                {
                    @trEnd;
                }
            }
        }
    </table>

    Html.RenderPartial(MVC.Blog.Views._PagingControl, this.Model);
}

<style>

    .price {
        padding-right: 5px;
        color: #ec2f2f;
        font-size: 24px;
    }

    .btn-main {
        background-color: #ec2f2f;
    }

        .btn-main:hover,
        .btn-main:focus,
        .btn-main:active,
        .btn-main.active {
            background-color: #303030;
        }

        .btn-main,
        .btn-main:hover,
        .btn-main:focus,
        .btn-main:active,
        .btn-main.active {
            color: #fff;
        }

    .product-col {
        padding: 15px;
        margin-bottom: 20px;
        border: 1px solid #e0e0e0;
        -webkit-border-radius: 4px;
        -moz-border-radius: 4px;
        border-radius: 15px;
    }
</style>